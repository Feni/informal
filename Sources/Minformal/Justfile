compile:
    wasm wamin.wat -o wamin.wasm

view:
    wat2wasm wamin.wat -v

dis:
    wasm-objdump wamin.wasm -d

inspect:
    wasmer inspect wamin.wasm

compile-native:
    wasmtime compile --target x86_64-unknown-linux --cranelift-enable skylake wamin.wat

bench:
    hyperfine --warmup 3 'wasmtime run wamin.cwasm --allow-precompiled --invoke add 2 3'

setup:
    sudo apt install wabt
    sudo apt install wasmtime
    # Setup ocaml and the GC wasm proposal for the version of "wasm" used here.